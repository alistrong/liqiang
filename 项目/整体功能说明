1 消息收发模型：
  第一：终端调用后端提供的短链接http接口发送消息，消息校验，加解密，入库，然后丢入MQ中
  第二：消费MQ，判断用户的在线状态，在线，通过长连接服务实时下发，不在线通过手机厂商push推送
  第三：对于接收方，如果在线收到消息，调用ack接口告诉服务端，接收方已经收到消息，
  
  
IM中几个核心指标  

1 实时触达：通过客户端与服务端建立的长链接，保证消息的实时触达
2 消息可达不丢：落库落盘，ack机制，如果接收方不在线，后端会存储消息没有被ack，下次用户重新触发长连接在线会重新下发
3 消息排重：每条消息都会生成唯一的id，后端会有记录

